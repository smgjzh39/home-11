{"ast":null,"code":"import { Client, Status } from \"@googlemaps/google-maps-services-js\";\nimport { API_KEY } from \"../const\";\nimport axios from 'axios';\nexport async function getCommuteTime(originLat, originLng, destLat, destLng, mode = \"driving\") {\n  // driving, walking, bicycling, transit (may not work properly due to reduced transit schedule during COVID)\n  const proxyurl = \"https://cors-anywhere.herokuapp.com/\"; // Google API requires CORS header set, this is a workaround to get it working locally.\n\n  const API_BASE_ENDPOINT = 'https://maps.googleapis.com/maps/api/distancematrix/json?';\n  const origin = originLat + ',' + originLng;\n  const dest = destLat + ',' + destLng;\n  const url = proxyurl + API_BASE_ENDPOINT + 'origins=' + origin + '&destinations=' + dest + '&mode=' + mode + '&key=' + API_KEY;\n  const headers = {\n    'Access-Control-Allow-Origin': '*',\n    'Access-Control-Allow-Headers': 'Content-Type, Authorization'\n  };\n  const response = await axios.get(url, {\n    'headers': headers\n  }).then(data => {\n    return data['data']['rows'][0]['elements'][0]['duration']['text'];\n  }).catch(err => {\n    return 'N/A';\n  });\n}\n;","map":{"version":3,"sources":["/Users/chengsong/Documents/GitHub/house-search-helper/src/handlers/GoogleAPIHandler.js"],"names":["Client","Status","API_KEY","axios","getCommuteTime","originLat","originLng","destLat","destLng","mode","proxyurl","API_BASE_ENDPOINT","origin","dest","url","headers","response","get","then","data","catch","err"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,MAAjB,QAA+B,qCAA/B;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,eAAeC,cAAf,CAA8BC,SAA9B,EAAyCC,SAAzC,EAAoDC,OAApD,EAA6DC,OAA7D,EAAsEC,IAAI,GAAG,SAA7E,EAAwF;AAC3F;AACA,QAAMC,QAAQ,GAAG,sCAAjB,CAF2F,CAElC;;AACzD,QAAMC,iBAAiB,GAAG,2DAA1B;AACA,QAAMC,MAAM,GAAGP,SAAS,GAAG,GAAZ,GAAkBC,SAAjC;AACA,QAAMO,IAAI,GAAGN,OAAO,GAAG,GAAV,GAAgBC,OAA7B;AACA,QAAMM,GAAG,GAAGJ,QAAQ,GAAGC,iBAAX,GAA+B,UAA/B,GAA4CC,MAA5C,GAAqD,gBAArD,GAAwEC,IAAxE,GAA+E,QAA/E,GAA0FJ,IAA1F,GAAiG,OAAjG,GAA2GP,OAAvH;AAEA,QAAMa,OAAO,GAAG;AACZ,mCAA+B,GADnB;AAEZ,oCAAgC;AAFpB,GAAhB;AAKA,QAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAUH,GAAV,EAAe;AAAE,eAAWC;AAAb,GAAf,EAClBG,IADkB,CACbC,IAAI,IAAI;AACV,WAAOA,IAAI,CAAC,MAAD,CAAJ,CAAa,MAAb,EAAqB,CAArB,EAAwB,UAAxB,EAAoC,CAApC,EAAuC,UAAvC,EAAmD,MAAnD,CAAP;AACH,GAHkB,EAIlBC,KAJkB,CAIZC,GAAG,IAAI;AAAE,WAAO,KAAP;AAAc,GAJX,CAAvB;AAKH;AAAA","sourcesContent":["import { Client, Status } from \"@googlemaps/google-maps-services-js\";\nimport { API_KEY } from \"../const\"\nimport axios from 'axios'\n\nexport async function getCommuteTime(originLat, originLng, destLat, destLng, mode = \"driving\") {\n    // driving, walking, bicycling, transit (may not work properly due to reduced transit schedule during COVID)\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\"; // Google API requires CORS header set, this is a workaround to get it working locally.\n    const API_BASE_ENDPOINT = 'https://maps.googleapis.com/maps/api/distancematrix/json?'\n    const origin = originLat + ',' + originLng\n    const dest = destLat + ',' + destLng\n    const url = proxyurl + API_BASE_ENDPOINT + 'origins=' + origin + '&destinations=' + dest + '&mode=' + mode + '&key=' + API_KEY;\n\n    const headers = {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n    }\n\n    const response = await axios.get(url, { 'headers': headers })\n        .then(data => {\n            return data['data']['rows'][0]['elements'][0]['duration']['text'];\n        })\n        .catch(err => { return 'N/A' });\n};\n"]},"metadata":{},"sourceType":"module"}