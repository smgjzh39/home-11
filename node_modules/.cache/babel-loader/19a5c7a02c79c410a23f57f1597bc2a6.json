{"ast":null,"code":"\"use strict\";\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst rax = require(\"retry-axios\");\n\nconst directions_1 = require(\"./directions\");\n\nconst distance_1 = require(\"./distance\");\n\nconst elevation_1 = require(\"./elevation\");\n\nconst findplacefromtext_1 = require(\"./places/findplacefromtext\");\n\nconst geocode_1 = require(\"./geocode/geocode\");\n\nconst geolocate_1 = require(\"./geolocate\");\n\nconst nearestroads_1 = require(\"./roads/nearestroads\");\n\nconst autocomplete_1 = require(\"./places/autocomplete\");\n\nconst details_1 = require(\"./places/details\");\n\nconst photo_1 = require(\"./places/photo\");\n\nconst queryautocomplete_1 = require(\"./places/queryautocomplete\");\n\nconst placesnearby_1 = require(\"./places/placesnearby\");\n\nconst reversegeocode_1 = require(\"./geocode/reversegeocode\");\n\nconst snaptoroads_1 = require(\"./roads/snaptoroads\");\n\nconst textsearch_1 = require(\"./places/textsearch\");\n\nconst timezone_1 = require(\"./timezone\");\n\nconst axios_1 = require(\"axios\");\n\nconst agentkeepalive_1 = require(\"agentkeepalive\");\n\nconst index_1 = require(\"./index\");\n\nconst adapter_1 = require(\"./adapter\");\n\nexports.defaultHttpsAgent = new agentkeepalive_1.HttpsAgent({\n  keepAlive: true\n});\nexports.defaultTimeout = 10000;\nexports.userAgent = `google-maps-services-node-${index_1.version}`;\nexports.acceptEncoding = \"gzip\";\nexports.X_GOOG_MAPS_EXPERIENCE_ID = \"X-GOOG-MAPS-EXPERIENCE-ID\";\nconst defaultConfig = {\n  timeout: exports.defaultTimeout,\n  httpsAgent: exports.defaultHttpsAgent,\n  adapter: adapter_1.customAdapter,\n  headers: {\n    \"User-Agent\": exports.userAgent,\n    \"Accept-Encoding\": exports.acceptEncoding\n  }\n};\nexports.defaultAxiosInstance = axios_1.default.create(defaultConfig);\nrax.attach(exports.defaultAxiosInstance);\n/**\n * Client is a light wrapper around API methods providing shared configuration for Axios\n * settings such as retry logic using the default retry-axios settings and gzip encoding.\n *\n * ### Instantiate with defaults\n * ```\n * const client = Client()\n * ```\n *\n * ### Instantiate with config\n * ```\n * const client = Client({config})\n * ```\n *\n * ### Instantiate with axiosInstance **Advanced**\n * ```\n * const axiosInstance = axios.create(config)\n * const client = Client({axiosInstance})\n * ```\n */\n\nclass Client {\n  constructor({\n    axiosInstance,\n    config,\n    experienceId\n  } = {}) {\n    if (axiosInstance && config) {\n      throw new Error(\"Provide one of axiosInstance or config.\");\n    }\n\n    if (axiosInstance) {\n      this.axiosInstance = axiosInstance;\n      this.axiosInstance.defaults.headers = Object.assign(Object.assign({}, defaultConfig.headers), this.axiosInstance.defaults.headers);\n    } else if (config) {\n      config = Object.assign(Object.assign({}, defaultConfig), config);\n      config.headers = Object.assign(Object.assign({}, defaultConfig.headers), config.headers || {});\n      this.axiosInstance = axios_1.default.create(config);\n      rax.attach(this.axiosInstance);\n    } else {\n      this.axiosInstance = exports.defaultAxiosInstance;\n    }\n\n    if (experienceId) {\n      this.setExperienceId(...experienceId);\n    }\n  }\n\n  setExperienceId(...ids) {\n    this.experienceId = ids;\n    this.axiosInstance.defaults.headers[exports.X_GOOG_MAPS_EXPERIENCE_ID] = ids.join(\",\");\n  }\n\n  clearExperienceId() {\n    this.experienceId = null;\n    this.clearExperienceIdHeader();\n  }\n\n  clearExperienceIdHeader() {\n    delete this.axiosInstance.defaults.headers[exports.X_GOOG_MAPS_EXPERIENCE_ID];\n  }\n\n  getExperienceId() {\n    return this.experienceId;\n  }\n\n  directions(request) {\n    return directions_1.directions(request, this.axiosInstance);\n  }\n\n  distancematrix(request) {\n    return distance_1.distancematrix(request, this.axiosInstance);\n  }\n\n  elevation(request) {\n    return elevation_1.elevation(request, this.axiosInstance);\n  }\n\n  timezone(request) {\n    return timezone_1.timezone(request, this.axiosInstance);\n  }\n\n  geolocate(request) {\n    return geolocate_1.geolocate(request, this.axiosInstance);\n  }\n\n  geocode(request) {\n    return geocode_1.geocode(request, this.axiosInstance);\n  }\n\n  reverseGeocode(request) {\n    return reversegeocode_1.reverseGeocode(request, this.axiosInstance);\n  }\n\n  placeAutocomplete(request) {\n    return autocomplete_1.placeAutocomplete(request, this.axiosInstance);\n  }\n\n  placeDetails(request) {\n    return details_1.placeDetails(request, this.axiosInstance);\n  }\n\n  findPlaceFromText(request) {\n    return findplacefromtext_1.findPlaceFromText(request, this.axiosInstance);\n  }\n\n  placePhoto(request) {\n    return photo_1.placePhoto(request, this.axiosInstance);\n  }\n\n  placesNearby(request) {\n    return placesnearby_1.placesNearby(request, this.axiosInstance);\n  }\n\n  placeQueryAutocomplete(request) {\n    return queryautocomplete_1.placeQueryAutocomplete(request, this.axiosInstance);\n  }\n\n  textSearch(request) {\n    return textsearch_1.textSearch(request, this.axiosInstance);\n  }\n\n  nearestRoads(request) {\n    return nearestroads_1.nearestRoads(request, this.axiosInstance);\n  }\n\n  snapToRoads(request) {\n    return snaptoroads_1.snapToRoads(request, this.axiosInstance);\n  }\n\n}\n\nexports.Client = Client;","map":{"version":3,"sources":["../src/client.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rax = require(\"retry-axios\");\nconst directions_1 = require(\"./directions\");\nconst distance_1 = require(\"./distance\");\nconst elevation_1 = require(\"./elevation\");\nconst findplacefromtext_1 = require(\"./places/findplacefromtext\");\nconst geocode_1 = require(\"./geocode/geocode\");\nconst geolocate_1 = require(\"./geolocate\");\nconst nearestroads_1 = require(\"./roads/nearestroads\");\nconst autocomplete_1 = require(\"./places/autocomplete\");\nconst details_1 = require(\"./places/details\");\nconst photo_1 = require(\"./places/photo\");\nconst queryautocomplete_1 = require(\"./places/queryautocomplete\");\nconst placesnearby_1 = require(\"./places/placesnearby\");\nconst reversegeocode_1 = require(\"./geocode/reversegeocode\");\nconst snaptoroads_1 = require(\"./roads/snaptoroads\");\nconst textsearch_1 = require(\"./places/textsearch\");\nconst timezone_1 = require(\"./timezone\");\nconst axios_1 = require(\"axios\");\nconst agentkeepalive_1 = require(\"agentkeepalive\");\nconst index_1 = require(\"./index\");\nconst adapter_1 = require(\"./adapter\");\nexports.defaultHttpsAgent = new agentkeepalive_1.HttpsAgent({ keepAlive: true });\nexports.defaultTimeout = 10000;\nexports.userAgent = `google-maps-services-node-${index_1.version}`;\nexports.acceptEncoding = \"gzip\";\nexports.X_GOOG_MAPS_EXPERIENCE_ID = \"X-GOOG-MAPS-EXPERIENCE-ID\";\nconst defaultConfig = {\n    timeout: exports.defaultTimeout,\n    httpsAgent: exports.defaultHttpsAgent,\n    adapter: adapter_1.customAdapter,\n    headers: {\n        \"User-Agent\": exports.userAgent,\n        \"Accept-Encoding\": exports.acceptEncoding,\n    },\n};\nexports.defaultAxiosInstance = axios_1.default.create(defaultConfig);\nrax.attach(exports.defaultAxiosInstance);\n/**\n * Client is a light wrapper around API methods providing shared configuration for Axios\n * settings such as retry logic using the default retry-axios settings and gzip encoding.\n *\n * ### Instantiate with defaults\n * ```\n * const client = Client()\n * ```\n *\n * ### Instantiate with config\n * ```\n * const client = Client({config})\n * ```\n *\n * ### Instantiate with axiosInstance **Advanced**\n * ```\n * const axiosInstance = axios.create(config)\n * const client = Client({axiosInstance})\n * ```\n */\nclass Client {\n    constructor({ axiosInstance, config, experienceId } = {}) {\n        if (axiosInstance && config) {\n            throw new Error(\"Provide one of axiosInstance or config.\");\n        }\n        if (axiosInstance) {\n            this.axiosInstance = axiosInstance;\n            this.axiosInstance.defaults.headers = Object.assign(Object.assign({}, defaultConfig.headers), this.axiosInstance.defaults.headers);\n        }\n        else if (config) {\n            config = Object.assign(Object.assign({}, defaultConfig), config);\n            config.headers = Object.assign(Object.assign({}, defaultConfig.headers), (config.headers || {}));\n            this.axiosInstance = axios_1.default.create(config);\n            rax.attach(this.axiosInstance);\n        }\n        else {\n            this.axiosInstance = exports.defaultAxiosInstance;\n        }\n        if (experienceId) {\n            this.setExperienceId(...experienceId);\n        }\n    }\n    setExperienceId(...ids) {\n        this.experienceId = ids;\n        this.axiosInstance.defaults.headers[exports.X_GOOG_MAPS_EXPERIENCE_ID] = ids.join(\",\");\n    }\n    clearExperienceId() {\n        this.experienceId = null;\n        this.clearExperienceIdHeader();\n    }\n    clearExperienceIdHeader() {\n        delete this.axiosInstance.defaults.headers[exports.X_GOOG_MAPS_EXPERIENCE_ID];\n    }\n    getExperienceId() {\n        return this.experienceId;\n    }\n    directions(request) {\n        return directions_1.directions(request, this.axiosInstance);\n    }\n    distancematrix(request) {\n        return distance_1.distancematrix(request, this.axiosInstance);\n    }\n    elevation(request) {\n        return elevation_1.elevation(request, this.axiosInstance);\n    }\n    timezone(request) {\n        return timezone_1.timezone(request, this.axiosInstance);\n    }\n    geolocate(request) {\n        return geolocate_1.geolocate(request, this.axiosInstance);\n    }\n    geocode(request) {\n        return geocode_1.geocode(request, this.axiosInstance);\n    }\n    reverseGeocode(request) {\n        return reversegeocode_1.reverseGeocode(request, this.axiosInstance);\n    }\n    placeAutocomplete(request) {\n        return autocomplete_1.placeAutocomplete(request, this.axiosInstance);\n    }\n    placeDetails(request) {\n        return details_1.placeDetails(request, this.axiosInstance);\n    }\n    findPlaceFromText(request) {\n        return findplacefromtext_1.findPlaceFromText(request, this.axiosInstance);\n    }\n    placePhoto(request) {\n        return photo_1.placePhoto(request, this.axiosInstance);\n    }\n    placesNearby(request) {\n        return placesnearby_1.placesNearby(request, this.axiosInstance);\n    }\n    placeQueryAutocomplete(request) {\n        return queryautocomplete_1.placeQueryAutocomplete(request, this.axiosInstance);\n    }\n    textSearch(request) {\n        return textsearch_1.textSearch(request, this.axiosInstance);\n    }\n    nearestRoads(request) {\n        return nearestroads_1.nearestRoads(request, this.axiosInstance);\n    }\n    snapToRoads(request) {\n        return snaptoroads_1.snapToRoads(request, this.axiosInstance);\n    }\n}\nexports.Client = Client;\n//# sourceMappingURL=client.js.map"]},"metadata":{},"sourceType":"script"}