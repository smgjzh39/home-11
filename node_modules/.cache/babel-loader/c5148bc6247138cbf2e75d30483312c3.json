{"ast":null,"code":"var _jsxFileName = \"/Users/chengsong/Documents/GitHub/house-search-helper/src/pages/table.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport sf_housing_data from '../assets/mocks/sf_housing_data.json';\nimport sf_housing_data_full from '../assets/mocks/sf_housing_data_full.json';\nimport { Client, Status } from \"@googlemaps/google-maps-services-js\";\nimport { API_KEY } from \"../const\";\nimport axios from 'axios';\nexport async function getCommuteTime(originLat, originLng, destLat, destLng, mode = \"driving\") {\n  // driving, walking, bicycling, transit (may not work properly due to reduced transit schedule during COVID)\n  const proxyurl = \"https://cors-anywhere.herokuapp.com/\"; // Google API requires CORS header set, this is a workaround to get it working locally.\n\n  const API_BASE_ENDPOINT = 'https://maps.googleapis.com/maps/api/distancematrix/json?';\n  const origin = originLat + ',' + originLng;\n  const dest = destLat + ',' + destLng;\n  const url = proxyurl + API_BASE_ENDPOINT + 'origins=' + origin + '&destinations=' + dest + '&mode=' + mode + '&key=' + API_KEY;\n  const headers = {\n    'Access-Control-Allow-Origin': '*',\n    'Access-Control-Allow-Headers': 'Content-Type, Authorization'\n  };\n  const response = await axios.get(url, {\n    'headers': headers\n  }).then(data => {\n    return data['data']['rows'][0]['elements'][0]['duration']['text'];\n  }).catch(err => {\n    return 'N/A';\n  });\n}\n;\nexport default function table() {\n  // let price = house.price;\n  // let imgSrc = house.imgSrc;\n  // let latitude = house.latLong.latitude;\n  // let longtitude = house.latLong.longitude;\n  // let id, title, statusType, beds, baths, area, streetAddress, city, state, zip, location;\n  const tableHeaders = [{\n    name: \"Title\",\n    field: \"title\",\n    sortable: false\n  }, {\n    name: \"Area\",\n    field: \"area\",\n    sortable: true\n  }, {\n    name: \"Price\",\n    field: \"price\",\n    sortable: true\n  }, {\n    name: \"Beds\",\n    field: \"beds\",\n    sortable: false\n  }, {\n    name: \"Baths\",\n    field: \"baths\",\n    sortable: false\n  }, {\n    name: \"Location\",\n    field: \"location\",\n    sortable: false\n  }];\n  let tableItems = [...sf_housing_data]; // set list_item as defualt table items\n\n  return /*#__PURE__*/React.createElement(\"table\", {\n    className: \"house_table_list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, tableHeaders.map(head => /*#__PURE__*/React.createElement(\"th\", {\n    key: head.field,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, head.name)))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, tableItems.map(house => /*#__PURE__*/React.createElement(\"tr\", {\n    key: house.zpid ? house.zpid : house.buildingId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    \"data-label\": \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/housedetails/${house.zpid ? house.zpid : house.buildingId}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, house.zpid ? house.hdpData.homeInfo.streetAddress : house.statusText)), /*#__PURE__*/React.createElement(\"td\", {\n    \"data-label\": \"Area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, house.zpid ? house.area ? house.area : \"N/A\" : house.minArea ? house.minArea : \"N/A\"), /*#__PURE__*/React.createElement(\"td\", {\n    \"data-label\": \"Price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, house.price), /*#__PURE__*/React.createElement(\"td\", {\n    \"data-label\": \"Beds\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, house.zpid ? house.beds : house.minBeds), /*#__PURE__*/React.createElement(\"td\", {\n    \"data-label\": \"Baths\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, house.zpid ? house.baths : house.minBaths), /*#__PURE__*/React.createElement(\"td\", {\n    \"data-label\": \"Location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, house.zpid ? `${house.hdpData.homeInfo.streetAddress}, ${house.hdpData.homeInfo.city} • \n                                ${house.hdpData.homeInfo.state} • ${house.hdpData.homeInfo.zipcode}` : \"Geolocation: \" + house.latLong.latitude + \", \" + house.latLong.longitude), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, getCommuteTime(house.latLong.latitude, house.latLong.longitude, \"37.794279\", \"-122.419471\"))))));\n}","map":{"version":3,"sources":["/Users/chengsong/Documents/GitHub/house-search-helper/src/pages/table.js"],"names":["React","useState","Link","sf_housing_data","sf_housing_data_full","Client","Status","API_KEY","axios","getCommuteTime","originLat","originLng","destLat","destLng","mode","proxyurl","API_BASE_ENDPOINT","origin","dest","url","headers","response","get","then","data","catch","err","table","tableHeaders","name","field","sortable","tableItems","map","head","house","zpid","buildingId","hdpData","homeInfo","streetAddress","statusText","area","minArea","price","beds","minBeds","baths","minBaths","city","state","zipcode","latLong","latitude","longitude"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { Link } from 'react-router-dom'\nimport sf_housing_data from '../assets/mocks/sf_housing_data.json'\nimport sf_housing_data_full from '../assets/mocks/sf_housing_data_full.json'\n\nimport { Client, Status } from \"@googlemaps/google-maps-services-js\";\nimport { API_KEY } from \"../const\"\nimport axios from 'axios'\n\nexport async function getCommuteTime(originLat, originLng, destLat, destLng, mode = \"driving\") {\n    // driving, walking, bicycling, transit (may not work properly due to reduced transit schedule during COVID)\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\"; // Google API requires CORS header set, this is a workaround to get it working locally.\n    const API_BASE_ENDPOINT = 'https://maps.googleapis.com/maps/api/distancematrix/json?'\n    const origin = originLat + ',' + originLng\n    const dest = destLat + ',' + destLng\n    const url = proxyurl + API_BASE_ENDPOINT + 'origins=' + origin + '&destinations=' + dest + '&mode=' + mode + '&key=' + API_KEY;\n\n    const headers = {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n    }\n\n    const response = await axios.get(url, { 'headers': headers })\n        .then(data => {\n            return data['data']['rows'][0]['elements'][0]['duration']['text'];\n        })\n        .catch(err => { return 'N/A' });\n};\n\n\n\n\n\n\n\nexport default function table() {\n\n\n    // let price = house.price;\n    // let imgSrc = house.imgSrc;\n    // let latitude = house.latLong.latitude;\n    // let longtitude = house.latLong.longitude;\n    // let id, title, statusType, beds, baths, area, streetAddress, city, state, zip, location;\n\n    const tableHeaders = [\n        { name: \"Title\", field: \"title\", sortable: false },\n        { name: \"Area\", field: \"area\", sortable: true },\n        { name: \"Price\", field: \"price\", sortable: true },\n        { name: \"Beds\", field: \"beds\", sortable: false },\n        { name: \"Baths\", field: \"baths\", sortable: false },\n        { name: \"Location\", field: \"location\", sortable: false }\n    ];\n\n    let tableItems = [...sf_housing_data]; // set list_item as defualt table items\n\n    return (\n        <table className=\"house_table_list\">\n            <thead>\n                <tr>\n                    {  \n                        tableHeaders.map( head => (\n                            <th key={head.field}>\n                                {head.name}\n                            </th>\n                        ))\n                    }\n                </tr>\n            </thead>\n            <tbody>\n                    {\n                        tableItems.map ( house => (\n                        <tr key={house.zpid? house.zpid : house.buildingId}>\n                            <td data-label=\"Title\">\n                            <Link to={`/housedetails/${house.zpid? house.zpid : house.buildingId}`}>\n                                {house.zpid? house.hdpData.homeInfo.streetAddress : house.statusText}\n                            </Link>   \n                            </td>\n                            <td data-label=\"Area\">\n                                {house.zpid? house.area? house.area: \"N/A\" : house.minArea? house.minArea : \"N/A\"}\n                            </td>\n                            <td data-label=\"Price\">\n                                {house.price}\n                            </td>\n                            <td data-label=\"Beds\">\n                                {house.zpid? house.beds : house.minBeds}\n                            </td>\n                            <td data-label=\"Baths\">\n                                {house.zpid? house.baths : house.minBaths}\n                            </td>\n                            <td data-label=\"Location\">\n                                {house.zpid? \n                                `${house.hdpData.homeInfo.streetAddress}, ${house.hdpData.homeInfo.city} • \n                                ${house.hdpData.homeInfo.state} • ${house.hdpData.homeInfo.zipcode}`\n                                : \"Geolocation: \" + house.latLong.latitude+\", \"+house.latLong.longitude}\n                            </td>\n                            <td>\n                                {\n                                    getCommuteTime(house.latLong.latitude, house.latLong.longitude, \"37.794279\",\"-122.419471\")\n                                }\n                            </td>\n                        </tr>\n                        ) )\n                    }\n            </tbody>\n        </table>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}